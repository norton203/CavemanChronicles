<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:skia="clr-namespace:SkiaSharp.Views.Maui.Controls;assembly=SkiaSharp.Views.Maui.Controls"
             x:Class="CavemanChronicles.MainPage"
             BackgroundColor="{StaticResource RetroBackground}">

    <Grid Padding="10" RowSpacing="5">
        <Grid.RowDefinitions>
            <!-- Status Bar -->
            <RowDefinition Height="60"/>
            <!-- Graphics Area -->
            <RowDefinition Height="200"/>
            <!-- Game Text Area -->
            <RowDefinition Height="*"/>
            <!-- Command Input -->
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- STATUS BAR -->
        <Border Grid.Row="0" 
                Stroke="{StaticResource RetroGreen}" 
                StrokeThickness="2"
                Padding="10">
            <Grid ColumnSpacing="20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="Auto"/>
                </Grid.ColumnDefinitions>

                <StackLayout Grid.Column="0">
                    <Label x:Name="CharacterNameLabel" 
                           Text="HERO" 
                           Style="{StaticResource RetroText}"
                           FontSize="16"
                           FontAttributes="Bold"/>
                    <Label x:Name="EraLabel" 
                           Text="CAVEMAN ERA" 
                           Style="{StaticResource RetroText}"
                           FontSize="12"/>
                </StackLayout>

                <StackLayout Grid.Column="1">
                    <Label Text="LEVEL" 
                           Style="{StaticResource RetroText}"
                           FontSize="12"/>
                    <Label x:Name="LevelLabel" 
                           Text="1" 
                           Style="{StaticResource RetroText}"
                           FontSize="16"
                           FontAttributes="Bold"/>
                </StackLayout>

                <StackLayout Grid.Column="2">
                    <Label Text="HP" 
                           Style="{StaticResource RetroText}"
                           FontSize="12"/>
                    <Label x:Name="HealthLabel" 
                           Text="100/100" 
                           Style="{StaticResource RetroText}"
                           FontSize="16"
                           FontAttributes="Bold"/>
                </StackLayout>
            </Grid>
        </Border>

        <!-- GRAPHICS AREA (SkiaSharp Canvas) -->
        <Border Grid.Row="1" 
                Stroke="{StaticResource RetroGreen}" 
                StrokeThickness="2"
                Margin="0,5,0,0">
            <skia:SKCanvasView x:Name="GraphicsCanvas"
                              PaintSurface="OnCanvasViewPaintSurface"
                              BackgroundColor="Black"/>
        </Border>

        <!-- GAME TEXT AREA -->
        <Border Grid.Row="2" 
                Stroke="{StaticResource RetroGreen}" 
                StrokeThickness="2"
                Margin="0,5,0,0">
            <ScrollView x:Name="GameTextScroll">
                <Label x:Name="GameTextLabel" 
                       Text="Welcome to Caveman Chronicles!&#x0a;&#x0a;You awaken in a primitive cave. The smell of smoke and dirt fills your nostrils. You are level 1, wielding only a crude stone...&#x0a;&#x0a;What will you do?"
                       Style="{StaticResource RetroText}"
                       Padding="10"
                       LineBreakMode="WordWrap"/>
            </ScrollView>
        </Border>

        <!-- COMMAND INPUT -->
        <Border Grid.Row="3" 
                Stroke="{StaticResource RetroGreen}" 
                StrokeThickness="2"
                Margin="0,5,0,0"
                Padding="10">
            <Grid ColumnSpacing="10">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="Auto"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>

                <Label Grid.Column="0" 
                       Text=">" 
                       Style="{StaticResource RetroText}"
                       FontSize="16"
                       VerticalOptions="Center"/>

                <Entry Grid.Column="1" 
                       x:Name="CommandEntry"
                       Placeholder="enter command..."
                       PlaceholderColor="#004400"
                       TextColor="{StaticResource RetroGreen}"
                       BackgroundColor="Black"
                       FontFamily="Courier New"
                       FontSize="14"
                       Completed="OnCommandEntered"/>
            </Grid>
        </Border>
    </Grid>
</ContentPage>